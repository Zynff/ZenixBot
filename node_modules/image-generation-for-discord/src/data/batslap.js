const request = require("node-superfetch")
const Canvas = require('canvas')

async function batslap(image1, image2) {
    if (!image1 || !image2) throw new Error(`Please provide 2 image urls.`)

    const { body } = await request.get(`https://cdn.discordapp.com/attachments/754841184030949383/795030045957423154/slap.png`)
    const template = await Canvas.loadImage(body)
    const canvas = Canvas.createCanvas(parseInt(template.width), parseInt(template.height))
    const ctx = canvas.getContext('2d')

    let otherAv = await Canvas.loadImage(image1)

    let avatar = await Canvas.loadImage(image2)

    ctx.drawImage(template, 0, 0, canvas.width, canvas.height)

    ctx.drawImage(otherAv, 340, 70, 230, 230)

    ctx.drawImage(avatar, 600, 260, 230, 230)
    return canvas.toBuffer()
}
module.exports = batslap