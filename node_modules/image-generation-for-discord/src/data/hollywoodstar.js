const { createCanvas, loadImage, registerFont } = require('canvas');
const path = require('path');
registerFont(path.join(__dirname, '..', 'assets', 'fonts', 'HollywoodStar.otf'), { family: 'Hollywood Star' });

async function hollywoodstar(name) {
    if (!name) throw new Error(`Please provide a name.`)

    const base = await loadImage(`https://raw.githubusercontent.com/caseyCantCode/discordImageGenImages/main/hollywood-star.png`);
    const canvas = createCanvas(base.width, base.height);
    const ctx = canvas.getContext('2d');
    ctx.drawImage(base, 0, 0);
    ctx.font = '28px Hollywood Star';
    ctx.fillStyle = '#fadfd4';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText(name.toLowerCase(), 288, 140);
    return canvas.toBuffer()
}
module.exports = hollywoodstar